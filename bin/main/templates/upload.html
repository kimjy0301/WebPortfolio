<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
        <meta content="" name="description">
        <meta content="" name="author">
        <title>김지용 사이트</title>
        <!-- bootstrap 4.x is supported. You can also use the bootstrap css 3.3.x versions -->
        <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css"/>
        <!-- if using RTL (Right-To-Left) orientation, load the RTL CSS file after fileinput.css by uncommenting below -->
        <!-- link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/css/fileinput-rtl.min.css" media="all" rel="stylesheet" type="text/css" /-->
        <!-- the font awesome icon library if using with `fas` theme (or Bootstrap 4.x). Note that default icons used in the plugin are glyphicons that are bundled only with Bootstrap 3.x. -->
        <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" rel="stylesheet"> <link rel="stylesheet" th:href="@{/css/agency.min.css}">
        <link rel="stylesheet" th:href="@{/css/toastr.css}"/>
    </head>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading text-uppercase">Upload</h2>
                <h3 class="section-subheading text-muted">포트폴리오 등록화면</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <form action="/portfolio/" enctype="multipart/form-data" id="contactForm" method="POST" name="sentMessage">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <input class="form-control" data-validation-required-message="제목을 입력해주세요." id="mainTitle" name="mainTitle" placeholder="제목 *" required="required" type="text">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="form-group">
                                <input class="form-control" data-validation-required-message="부제목 입력주세요." id="subTitle" name="subTitle" placeholder="부제목 *" required="required" type="text">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <textarea style="height:500px" class="form-control" data-validation-required-message="내용을 입력해주세요." id="content" name="content" placeholder="이곳에 입력해주세요. *" required="required"></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <input id="input-b3" class="file"   data-allowed-file-extensions='["jpg"]' data-msg-placeholder="업로드할 파일을 선택해주세요." data-show-caption="true" data-show-upload="false" multiple name="input-b3[]" type="file">
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-lg-12 text-center">
                            <div id="success"></div>
                            <button class="btn btn-primary btn-xl text-uppercase" id="sendMessageButton" type="submit">전 송</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row" style=" padding-top: 20px;">
		<div class="col-lg-12 text-center">		
		<div class="table-responsive">
			<table id="messageTable" class="table">
			<thead>
			<tr>
				<th scope="col">
					제목
				</th>
				<th scope="col">
					부제목
				</th>
				<th scope="col">
					내용
				</th>
				<th scope="col">
					이미지
				</th>
				<th scope="col">
					id
				</th>
				
			</tr>
			</thead>
			<tbody>
			<div th:each="obj : ${list}">
			
				<tr th:each="obj2 : ${obj.listPortfolioImg}">							
					<td th:text="${obj.mainTitle}">
					</td>
					<td th:text="${obj.subTitle}">
					</td>
					<td th:text="${obj.content}">
					</td>
					<td th:text="${obj2.getFileName()}">
					</td>
					<td th:text="${obj.id}">
					</td>
				</tr>
			</div>
			</tbody>
			</table>
			</div>
		</div>
	</div>
	
    </div>

			
    
    
    
    
    
    
    
    
    
    
    
    <!-- Bootstrap core JavaScript -->
    <!-- <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
     -->
    <script crossorigin="anonymous" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- piexif.min.js is needed for auto orienting image files OR when restoring exif data in resized images and when you
        wish to resize images before upload. This must be loaded before fileinput.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/js/plugins/piexif.min.js" type="text/javascript"></script>
    <!-- sortable.min.js is only needed if you wish to sort / rearrange files in initial preview. 
        This must be loaded before fileinput.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/js/plugins/sortable.min.js" type="text/javascript"></script>
    <!-- purify.min.js is only needed if you wish to purify HTML content in your preview for 
        HTML files. This must be loaded before fileinput.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/js/plugins/purify.min.js" type="text/javascript"></script>
    <!-- bootstrap.min.js below is needed if you wish to zoom and preview file content in a detail modal
        dialog. bootstrap 4.x is supported. You can also use the bootstrap js 3.3.x versions. -->
    <script crossorigin="anonymous" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <!-- the main fileinput plugin file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/js/fileinput.min.js"></script>
    <!-- following theme script is needed to use the Font Awesome 5.x theme (`fas`) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.5.1/themes/fas/theme.min.js"></script>
    <!-- Plugin JavaScript -->
    <script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>
    <!-- 토스터 임포트 -->
    <script th:src="@{/js/toastr.js}"></script>
    <!-- <script th:src="@{/js/serializeObject.js}"></script> -->
    <!-- Contact form JavaScript -->
    <script th:src="@{/js/jqBootstrapValidation.js}"></script>
    <script>
        $("#input-b3").fileinput({theme: "fas"});
        function updateSize() {
            var nBytes = 0,
                oFiles = document.getElementById("fileInput").files,
                nFiles = oFiles.length;
            for (var nFileId = 0; nFileId < nFiles; nFileId++) {
                nBytes += oFiles[nFileId].size;
            }
            var sOutput = nBytes + " bytes";
            // optional code for multiples approximation
            for (var aMultiples =[
                "KiB",
                "MiB",
                "GiB",
                "TiB",
                "PiB",
                "EiB",
                "ZiB",
                "YiB"
            ], nMultiple = 0, nApprox = nBytes / 1024; nApprox > 1; nApprox /= 1024, nMultiple ++) {
            sOutput = nApprox.toFixed(3) + " " + aMultiples[nMultiple] + " (" + nBytes + " bytes)";
        }
        // end of optional code
        document.getElementById("fileNum").innerHTML = nFiles;
        document.getElementById("fileSize").innerHTML = sOutput;
    }
    </script>
</body></html>